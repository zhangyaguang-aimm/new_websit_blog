webpackJsonp([20],{JKkS:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("xd7I"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("C7Lr")({name:"App",components:{}},o,!1,function(t){n("ukMS")},null,null).exports,r=n("3XdE"),c=n("rVsN"),u=n.n(c),l=n("3cXf"),h=n.n(l),p=n("2bvH");a.default.use(p.a);var m=new p.a.Store({state:{userinfo:{}},mutations:{SET_ROLES:function(t,e){t.userinfo=e,localStorage.setItem("userinfo",h()(updateUser))}},actions:{getUser:function(t){var e=t.commit;t.state;return new u.a(function(t,n){var o;(o=a.default.prototype.$axios,new u.a(function(t,e){var n=localStorage.getItem("token");n?o({url:"/user/userinfo",method:"get",headers:{token:n},params:{_id:JSON.parse(localStorage.getItem("userinfo"))._id}}).then(function(e){e&&1==e.data.code?t(e.data):t(null)}):t(null)})).then(function(a){a||n("验证失败，请重新登录.");try{e("SET_ROLES",a.data)}catch(t){}t(a)}).catch(function(t){n(t)})})}}}),s={path:"/admin",name:"管理系统",component:function(t){return Promise.all([n.e(0),n.e(3)]).then(function(){var e=[n("3SYa")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/",name:"文章列表",component:function(t){return Promise.all([n.e(0),n.e(11)]).then(function(){var e=[n("x0vE")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"文章列表",requireAuthor:!0,index:"1-1"}},{path:"add_blog",name:"新增博客",component:function(t){return Promise.all([n.e(0),n.e(12)]).then(function(){var e=[n("mhqn")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"新增博客",requireAuthor:!0,index:"1-2"}},{path:"tag",name:"标签管理",component:function(t){return Promise.all([n.e(0),n.e(16)]).then(function(){var e=[n("qwaH")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"标签管理",requireAuthor:!0,index:"1-4"}},{path:"article",name:"个人日记",component:function(t){return Promise.all([n.e(0),n.e(10)]).then(function(){var e=[n("b0Rb")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"个人日记",requireAuthor:!0,index:"2-1"}},{path:"add_article",name:"新增日记",component:function(t){return Promise.all([n.e(0),n.e(18)]).then(function(){var e=[n("F86y")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"新增日记",requireAuthor:!0,index:"2-2"}}].concat([{path:"user/list",name:"用户列表",component:function(t){return Promise.all([n.e(0),n.e(14)]).then(function(){var e=[n("tVh0")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"用户列表",requireAuthor:!0,index:"1-3-1"}},{path:"usercenter",name:"用户中心",component:function(t){return Promise.all([n.e(0),n.e(8)]).then(function(){var e=[n("YGxt")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"用户中心",requireAuthor:!0,index:"1-3-2"}}])};a.default.use(r.a);var f=new r.a({mode:"history",routes:[{path:"/",component:function(t){return n.e(6).then(function(){var e=[n("c7qA")];t.apply(null,e)}.bind(this)).catch(n.oe)},children:[{path:"/",name:"首页",component:function(t){return Promise.all([n.e(0),n.e(9)]).then(function(){var e=[n("8hXn")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"首页"}},{path:"/detail/:id",name:"详情",component:function(t){return Promise.all([n.e(0),n.e(1)]).then(function(){var e=[n("GwIj")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"详情"}},{path:"/study",name:"学习分享",component:function(t){return Promise.all([n.e(0),n.e(15)]).then(function(){var e=[n("b1fX")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"学习分享"}},{path:"/case",name:"随笔",component:function(t){return Promise.all([n.e(0),n.e(17)]).then(function(){var e=[n("G2Qr")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"随笔"}},{path:"/about",name:"关于",component:function(t){return n.e(13).then(function(){var e=[n("FBzZ")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"关于"}},{path:"/article/:id",name:"详情",component:function(t){return Promise.all([n.e(0),n.e(7)]).then(function(){var e=[n("AtFq")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"详情"}},{path:"/discuss",name:"讨论区",component:function(t){return Promise.all([n.e(0),n.e(2)]).then(function(){var e=[n("WMEK")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"讨论区"}}]},s,{path:"/login",name:"登录",component:function(t){return Promise.all([n.e(0),n.e(5)]).then(function(){var e=[n("Quw4")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"登录"}},{path:"/register",name:"注册",component:function(t){return Promise.all([n.e(0),n.e(4)]).then(function(){var e=[n("c2lw")];t.apply(null,e)}.bind(this)).catch(n.oe)},meta:{title:"注册"}}]});f.beforeEach(function(t,e,n){document.body.scrollTop=0,document.documentElement.scrollTop=0,t.matched.some(function(t){return t.meta.requireAuthor})&&m.dispatch("getUser").then(function(t){1==t.code?n():n("/login")}).catch(function(t){n("/login")}),n()});var d=f,v=n("Muz9"),b=n.n(v),y=n("4gzT"),g=n.n(y),P=(n("JKkS"),n("muQq"),n("XiX9"));a.default.use(g.a);var q=b.a.create({baseURL:"/blog/v1"});a.default.prototype.$axios=q,a.default.config.productionTip=!1,a.default.directive("highlight",function(t){t.querySelectorAll("pre code").forEach(function(t){P.highlightBlock(t)})}),new a.default({el:"#app",router:d,store:m,components:{App:i},template:"<App/>"})},muQq:function(t,e){},ukMS:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.067b434cfa9a78778009.js.map