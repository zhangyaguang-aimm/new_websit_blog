{"version":3,"sources":["webpack:///./src/assets/images/cover.mp4","webpack:///src/views/login.vue","webpack:///./src/views/login.vue?906b","webpack:///./src/views/login.vue"],"names":["module","exports","__webpack_require__","p","login","data","userInfo","username","password","vedioCanPlay","fixStyle","randomVideo","video","img","computed","getRandom","this","Math","floor","random","length","methods","canplay","goLogin","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","$axios","post","sent","code","localStorage","setItem","token","stringify_default","userinfo","$router","go","$message","error","message","stop","initVideo","_this2","window","onresize","windowWidth","document","body","clientWidth","windowHeight","clientHeight","videoWidth","videoHeight","height","width","margin-bottom","margin-left","goRegister","push","mounted","views_login","render","_vm","_h","$createElement","_c","_self","staticClass","style","_v","attrs","autoplay","loop","on","src","type","_e","alt","placeholder","nativeOn","keyup","$event","indexOf","_k","keyCode","key","model","value","callback","$$v","$set","expression","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/5.eee16bcf76b6ab48ec53.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/cover.21aa828.mp4\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/assets/images/cover.mp4\n// module id = JFJF\n// module chunks = 4 5","<template>\r\n    <div class=\"login\">\r\n        <div class=\"homepage-hero-module\">\r\n            <div class=\"video-container\">\r\n                <div :style=\"fixStyle\" class=\"filter\"></div>\r\n                <video :style=\"fixStyle\" autoplay loop class=\"fillWidth\" v-on:canplay=\"canplay\">\r\n                    <source :src=\"getRandom['video']\" type=\"video/mp4\"/>\r\n                </video>\r\n                <div class=\"poster hidden\" v-if=\"!vedioCanPlay\">\r\n                    <img :style=\"fixStyle\" :src=\"getRandom['img']\" alt=\"\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"box\">\r\n            <div class=\"title\">用户登录</div>\r\n            <div class=\"username item-box\">\r\n                <el-input @keyup.enter.native=\"goLogin\" class=\"item-input\" placeholder=\"请输入用户名\" v-model=\"userInfo.username\">\r\n                </el-input>\r\n                <span class=\"el-icon-user input-icon\"></span>\r\n            </div>\r\n            <div class=\"password item-box\">\r\n                <el-input @keyup.enter.native=\"goLogin\" class=\"item-input\" placeholder=\"请输入密码\" type='password' v-model=\"userInfo.password\">\r\n                </el-input>\r\n                <span class=\"el-icon-lock input-icon\"></span>\r\n            </div>\r\n            <div class=\"tip\" @click=\"goRegister\">没有账号?<span>注册</span></div>\r\n            <div class=\"login-btn-box\">\r\n                <el-button \r\n                @click=\"goLogin\"\r\n                class=\"login-btn\" type=\"primary\">登录</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            userInfo: {\r\n                username: '',\r\n                password: ''\r\n            },\r\n            vedioCanPlay: false,\r\n            fixStyle: '',\r\n            randomVideo: [\r\n                {\r\n                    video: require('../assets/images/cover.mp4'),\r\n                    img: require('../assets/images/cover.jpg')\r\n                },\r\n                // {\r\n                //     video: require('../assets/images/cover1.mp4'),\r\n                //     img: require('../assets/images/cover1.jpg')\r\n                // },\r\n                // {\r\n                //     video: require('../assets/images/cover2.mp4'),\r\n                //     img: require('../assets/images/cover2.jpg')\r\n                // }\r\n            ]\r\n        }\r\n    },\r\n    computed: {\r\n        getRandom(){\r\n            return this.randomVideo[Math.floor(Math.random()*this.randomVideo.length)]\r\n        }\r\n    },\r\n    methods: {\r\n        canplay() {\r\n            this.vedioCanPlay = true\r\n        },\r\n        async goLogin(){\r\n            let result = await this.$axios.post('/user/login',this.userInfo)\r\n            console.log(result)\r\n            if(result && result.data.code == 1){\r\n                localStorage.setItem('token',result.data.data.token)\r\n                localStorage.setItem('userinfo',JSON.stringify(result.data.data.userinfo))\r\n                // this.$router.push('/')\r\n                this.$router.go(-1)\r\n            }else{\r\n                this.$message.error(result.data.message)\r\n            }\r\n            \r\n        },\r\n        \r\n        initVideo(){\r\n            window.onresize = () => {\r\n                const windowWidth = document.body.clientWidth\r\n                const windowHeight = document.body.clientHeight\r\n                const windowAspectRatio = windowHeight / windowWidth\r\n                let videoWidth\r\n                let videoHeight\r\n                if (windowAspectRatio < 0.5625) {\r\n                    videoWidth = windowWidth\r\n                    videoHeight = videoWidth * 0.5625\r\n                    this.fixStyle = {\r\n                        height: windowWidth * 0.5625 + 'px',\r\n                        width: windowWidth + 'px',\r\n                        'margin-bottom': (windowHeight - videoHeight) / 2 + 'px',\r\n                        'margin-left': 'initial'\r\n                    }\r\n                } else {\r\n                    videoHeight = windowHeight\r\n                    videoWidth = videoHeight / 0.5625\r\n                    this.fixStyle = {\r\n                        height: windowHeight + 'px',\r\n                        width: windowHeight / 0.5625 + 'px',\r\n                        'margin-left': (windowWidth - videoWidth) / 2 + 'px',\r\n                        'margin-bottom': 'initial'\r\n                    }\r\n                }\r\n            }\r\n            window.onresize()\r\n        },\r\n        goRegister(){\r\n            this.$router.push('/register')\r\n        }\r\n    },\r\n    mounted: function() {\r\n        this.initVideo()\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.login{\r\n    .item-input{\r\n        input{\r\n            box-sizing: border-box;\r\n            text-indent: 16px;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.login{\r\n    width: 100%;\r\n    height: 100%;\r\n    position: relative;\r\n    color: #fff;\r\n    .box{\r\n        position: absolute;\r\n        width: 400px;\r\n        min-height: 200px;\r\n        left: 50%;\r\n        top: 20%;\r\n        z-index: 33;\r\n        transform: translate(-50%, 0);\r\n        display: flex;\r\n        flex-direction: column;\r\n        align-items: center;\r\n        justify-content: flex-start;\r\n        .title{\r\n            font-size: 38px;\r\n            font-weight: 600;\r\n            letter-spacing: 0.1em;\r\n            margin-bottom: 10px;\r\n        }\r\n        .item-box{\r\n            margin-top: 30px;\r\n            width: 100%;\r\n            position: relative;\r\n            .input-icon{\r\n                position: absolute;\r\n                left: 0;\r\n                top: 50%;\r\n                color: #000;\r\n                transform: translateY(-50%);\r\n                left: 10px;\r\n            }\r\n        }\r\n        .tip{\r\n            padding: 10px 0;\r\n            color: rgba(255, 255, 255, 0.8);\r\n            span{\r\n                color: #fff;\r\n                cursor: pointer;\r\n                &:hover{\r\n                    color: #409EFF;\r\n                }\r\n            }\r\n        }\r\n        .login-btn-box{\r\n            width: 100%;\r\n            .login-btn{\r\n                width: 100%;\r\n                font-size: 16px;\r\n                letter-spacing: 0.2em;\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n.homepage-hero-module,\r\n .video-container {\r\n position: relative;\r\n height: 100vh;\r\n overflow: hidden;\r\n }\r\n .video-container .poster img,\r\n .video-container video {\r\n z-index: 0;\r\n position: absolute;\r\n }\r\n .video-container .filter {\r\n z-index: 1;\r\n position: absolute;\r\n background: rgba(0, 0, 0, 0.4);\r\n }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login\"},[_c('div',{staticClass:\"homepage-hero-module\"},[_c('div',{staticClass:\"video-container\"},[_c('div',{staticClass:\"filter\",style:(_vm.fixStyle)}),_vm._v(\" \"),_c('video',{staticClass:\"fillWidth\",style:(_vm.fixStyle),attrs:{\"autoplay\":\"\",\"loop\":\"\"},on:{\"canplay\":_vm.canplay}},[_c('source',{attrs:{\"src\":_vm.getRandom['video'],\"type\":\"video/mp4\"}})]),_vm._v(\" \"),(!_vm.vedioCanPlay)?_c('div',{staticClass:\"poster hidden\"},[_c('img',{style:(_vm.fixStyle),attrs:{\"src\":_vm.getRandom['img'],\"alt\":\"\"}})]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"用户登录\")]),_vm._v(\" \"),_c('div',{staticClass:\"username item-box\"},[_c('el-input',{staticClass:\"item-input\",attrs:{\"placeholder\":\"请输入用户名\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.goLogin($event)}},model:{value:(_vm.userInfo.username),callback:function ($$v) {_vm.$set(_vm.userInfo, \"username\", $$v)},expression:\"userInfo.username\"}}),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-user input-icon\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"password item-box\"},[_c('el-input',{staticClass:\"item-input\",attrs:{\"placeholder\":\"请输入密码\",\"type\":\"password\"},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.goLogin($event)}},model:{value:(_vm.userInfo.password),callback:function ($$v) {_vm.$set(_vm.userInfo, \"password\", $$v)},expression:\"userInfo.password\"}}),_vm._v(\" \"),_c('span',{staticClass:\"el-icon-lock input-icon\"})],1),_vm._v(\" \"),_c('div',{staticClass:\"tip\",on:{\"click\":_vm.goRegister}},[_vm._v(\"没有账号?\"),_c('span',[_vm._v(\"注册\")])]),_vm._v(\" \"),_c('div',{staticClass:\"login-btn-box\"},[_c('el-button',{staticClass:\"login-btn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.goLogin}},[_vm._v(\"登录\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-691fb04a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-691fb04a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./login.vue\")\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-691fb04a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=1!./login.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-691fb04a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-691fb04a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/login.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}