webpackJsonp([3],{JFJF:function(t,e,i){t.exports=i.p+"static/media/cover.21aa828.mp4"},Quw4:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("Xxa5"),s=i.n(n),a=i("mvHQ"),o=i.n(a),r=i("exGp"),l=i.n(r),u={data:function(){return{userInfo:{username:"",password:""},vedioCanPlay:!1,fixStyle:"",randomVideo:[{video:i("JFJF"),img:i("tMvF")}]}},computed:{getRandom:function(){return this.randomVideo[Math.floor(Math.random()*this.randomVideo.length)]}},methods:{canplay:function(){this.vedioCanPlay=!0},goLogin:function(){var t=this;return l()(s.a.mark(function e(){var i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.post("/user/login",t.userInfo);case 2:(i=e.sent)&&1==i.data.code?(localStorage.setItem("token",i.data.data.token),localStorage.setItem("userinfo",o()(i.data.data.userinfo)),t.$router.push("/")):t.$message.error(i.data.message);case 5:case"end":return e.stop()}},e,t)}))()},initVideo:function(){var t=this;window.onresize=function(){var e=document.body.clientWidth,i=document.body.clientHeight,n=void 0,s=void 0;i/e<.5625?(s=.5625*(n=e),t.fixStyle={height:.5625*e+"px",width:e+"px","margin-bottom":(i-s)/2+"px","margin-left":"initial"}):(n=(s=i)/.5625,t.fixStyle={height:i+"px",width:i/.5625+"px","margin-left":(e-n)/2+"px","margin-bottom":"initial"})},window.onresize()},goRegister:function(){this.$router.push("/register")}},mounted:function(){this.initVideo()}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"login"},[i("div",{staticClass:"homepage-hero-module"},[i("div",{staticClass:"video-container"},[i("div",{staticClass:"filter",style:t.fixStyle}),t._v(" "),i("video",{staticClass:"fillWidth",style:t.fixStyle,attrs:{autoplay:"",loop:""},on:{canplay:t.canplay}},[i("source",{attrs:{src:t.getRandom.video,type:"video/mp4"}})]),t._v(" "),t.vedioCanPlay?t._e():i("div",{staticClass:"poster hidden"},[i("img",{style:t.fixStyle,attrs:{src:t.getRandom.img,alt:""}})])])]),t._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"title"},[t._v("用户登录")]),t._v(" "),i("div",{staticClass:"username item-box"},[i("el-input",{staticClass:"item-input",attrs:{placeholder:"请输入用户名"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goLogin(e)}},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}}),t._v(" "),i("span",{staticClass:"el-icon-user input-icon"})],1),t._v(" "),i("div",{staticClass:"password item-box"},[i("el-input",{staticClass:"item-input",attrs:{placeholder:"请输入密码",type:"password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.goLogin(e)}},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}}),t._v(" "),i("span",{staticClass:"el-icon-lock input-icon"})],1),t._v(" "),i("div",{staticClass:"tip",on:{click:t.goRegister}},[t._v("没有账号?"),i("span",[t._v("注册")])]),t._v(" "),i("div",{staticClass:"login-btn-box"},[i("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:t.goLogin}},[t._v("登录")])],1)])])},staticRenderFns:[]};var d=i("VU/8")(u,c,!1,function(t){i("V57u"),i("pVQU")},"data-v-54fbd616",null);e.default=d.exports},V57u:function(t,e){},mvHQ:function(t,e,i){t.exports={default:i("qkKv"),__esModule:!0}},pVQU:function(t,e){},qkKv:function(t,e,i){var n=i("FeBl"),s=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return s.stringify.apply(s,arguments)}}});
//# sourceMappingURL=3.4921d4f8ebbce1573dfc.js.map