{"version":3,"sources":["webpack:///src/views/read.vue","webpack:///./src/views/read.vue?53aa","webpack:///./src/views/read.vue"],"names":["read","data","chapterInfo","nextFlag","prevFlag","isHas","nextChapterId","prevChapterId","created","this","initPage","computed","content","replace","methods","getChapterInfo","chapterId","$route","params","bookId","obj","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","result","wrap","_context","prev","next","$axios","get","sent","chapter","prevChapter","nextChapter","chapter_id","t0","stop","goNext","window","scrollTo","$router","push","goPrev","goBack","goHome","goList","watch","views_read","render","_vm","_h","$createElement","_c","_self","directives","name","rawName","value","title","expression","staticClass","on","click","_v","_s","domProps","innerHTML","attrs","type","round","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.199616b61f0753c52cbf.js","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"read\" v-show=\"chapterInfo.title && isHas\">\r\n            <div class=\"top\">\r\n                <div class=\"btn el-icon-back\" @click=\"goBack\">返回</div>\r\n                <div class=\"btn home\" @click=\"goHome\">首页</div>\r\n            </div>\r\n            <div>\r\n                <div class=\"title\">{{chapterInfo.title}}</div>\r\n                <div class=\"content\" v-html=\"content\"></div>\r\n            </div>\r\n            <div class=\"footer\">\r\n                <el-button v-if='prevFlag' @click=\"goPrev\" type=\"warning\" round class=\"prev\">上一章</el-button>\r\n                <el-button v-else type=\"info\" round class=\"prev\">上一章</el-button>\r\n                <el-button @click=\"goList\" type=\"warning\" round class=\"prev\">目录</el-button>\r\n                <el-button @click=\"goNext\" v-if=\"nextFlag\" type=\"danger\" round class=\"next\">下一章</el-button>\r\n                <el-button v-else type=\"info\" round class=\"next\">下一章</el-button>\r\n            </div>\r\n        </div>\r\n        <div class=\"read\" v-show=\"!chapterInfo.title && !isHas\">\r\n            <div class=\"title special\">\r\n                章节暂时缺失\r\n            </div>\r\n            <div class=\"footer\">\r\n                <el-button v-if='prevFlag' @click=\"goPrev\" type=\"warning\" round class=\"prev\">上一章</el-button>\r\n                <el-button v-else type=\"info\" round class=\"prev\">上一章</el-button>\r\n                <el-button @click=\"goList\"  type=\"warning\" round class=\"prev\">目录</el-button>\r\n                <el-button @click=\"goNext\" v-if=\"nextFlag\" type=\"danger\" round class=\"next\">下一章</el-button>\r\n                <el-button v-else type=\"info\" round class=\"next\">下一章</el-button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data () {\r\n        return {\r\n            chapterInfo: {},\r\n            nextFlag: true,\r\n            prevFlag: true,\r\n            isHas: true,\r\n            nextChapterId: 0,\r\n            prevChapterId: 0\r\n        }\r\n    },\r\n    created () {\r\n        this.initPage()\r\n    },\r\n    computed: {\r\n        content(){\r\n            if(this.chapterInfo.content){\r\n                return this.chapterInfo.content.replace(/\\n/g,'<br>')\r\n            }else{\r\n                return ''\r\n            }\r\n        },\r\n        \r\n    },\r\n    methods: {\r\n        \r\n        initPage(){\r\n            this.getChapterInfo({\r\n                chapterId: this.$route.params.chapterId,\r\n                bookId: this.$route.params.bookId\r\n            })\r\n        },\r\n        async getChapterInfo(obj){\r\n            console.log(obj)\r\n            try{\r\n                let result = await this.$axios.get('/book/chapter',{\r\n                    params: {\r\n                        chapterId: obj.chapterId,\r\n                        bookId: obj.bookId\r\n                    }\r\n                })\r\n                \r\n                this.chapterInfo = result.data.data.chapter || {}\r\n                this.isHas = !!result.data.data.chapter\r\n                this.prevFlag = !!result.data.data.prevChapter\r\n                this.nextFlag = !!result.data.data.nextChapter\r\n                this.prevChapterId = result.data.data.prevChapter ? result.data.data.prevChapter.chapter_id : 0\r\n                this.nextChapterId = result.data.data.nextChapter ? result.data.data.nextChapter.chapter_id : 0\r\n            }catch(err){\r\n                this.isHas = false\r\n                console.log(err)\r\n            }\r\n        },\r\n        goNext(){\r\n            window.scrollTo(0,0); \r\n            this.$router.push('/read/' + this.$route.params.bookId + '/' + this.nextChapterId)\r\n        },\r\n        goPrev(){\r\n            window.scrollTo(0,0); \r\n            this.$router.push('/read/' + this.$route.params.bookId + '/' + this.prevChapterId)\r\n        },\r\n        goBack(){\r\n            this.$router.push('/detail/'+this.$route.params.bookId)\r\n        },\r\n        goHome(){\r\n            this.$router.push('/')\r\n        },\r\n        goList(){\r\n            this.$router.push('/chapterlist/'+this.$route.params.bookId)\r\n        }\r\n    },\r\n    watch: {\r\n        $route(){\r\n            this.initPage()\r\n        }\r\n    }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.read{\r\n    background: url('../assets/images/read_skin.jpg') repeat-y;\r\n    background-size: 100%;\r\n    background-position: center;\r\n    padding: 0 0 20px 0;\r\n    font-family: sans-serif;\r\n    min-height: 100vh;\r\n    .top{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-between;\r\n        padding: 0 20px;\r\n        background: transparent;\r\n        height: 80px;\r\n        .btn{\r\n            border-radius: 5px;\r\n            color: #409EFF;\r\n            font-size: 30px;\r\n            letter-spacing: 5px;\r\n            font-weight: 600;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n    .title{\r\n        font-size: 50px;\r\n        font-weight: 600;\r\n        text-align: center;\r\n        line-height: 80px;\r\n        &.special{\r\n            min-height: 80vh;\r\n            line-height: 80vh;\r\n        }\r\n    }\r\n    .content{\r\n        padding: 20px;\r\n        font-size: 36px;\r\n        line-height: 60px;\r\n        letter-spacing: 5px;\r\n        \r\n    }\r\n    .footer{\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: space-around;\r\n        .prev{\r\n            width: 200px;\r\n            height: 60px;\r\n            border-radius: 60px;\r\n            font-size: 30px;\r\n            cursor: pointer;\r\n        }\r\n        .next{\r\n            width: 200px;\r\n            height: 60px;\r\n            border-radius: 60px;\r\n            font-size: 30px;\r\n            cursor: pointer;\r\n        }\r\n    }\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/read.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.chapterInfo.title && _vm.isHas),expression:\"chapterInfo.title && isHas\"}],staticClass:\"read\"},[_c('div',{staticClass:\"top\"},[_c('div',{staticClass:\"btn el-icon-back\",on:{\"click\":_vm.goBack}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('div',{staticClass:\"btn home\",on:{\"click\":_vm.goHome}},[_vm._v(\"首页\")])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.chapterInfo.title))]),_vm._v(\" \"),_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[(_vm.prevFlag)?_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.goPrev}},[_vm._v(\"上一章\")]):_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"info\",\"round\":\"\"}},[_vm._v(\"上一章\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.goList}},[_vm._v(\"目录\")]),_vm._v(\" \"),(_vm.nextFlag)?_c('el-button',{staticClass:\"next\",attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.goNext}},[_vm._v(\"下一章\")]):_c('el-button',{staticClass:\"next\",attrs:{\"type\":\"info\",\"round\":\"\"}},[_vm._v(\"下一章\")])],1)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.chapterInfo.title && !_vm.isHas),expression:\"!chapterInfo.title && !isHas\"}],staticClass:\"read\"},[_c('div',{staticClass:\"title special\"},[_vm._v(\"\\n            章节暂时缺失\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"footer\"},[(_vm.prevFlag)?_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.goPrev}},[_vm._v(\"上一章\")]):_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"info\",\"round\":\"\"}},[_vm._v(\"上一章\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"prev\",attrs:{\"type\":\"warning\",\"round\":\"\"},on:{\"click\":_vm.goList}},[_vm._v(\"目录\")]),_vm._v(\" \"),(_vm.nextFlag)?_c('el-button',{staticClass:\"next\",attrs:{\"type\":\"danger\",\"round\":\"\"},on:{\"click\":_vm.goNext}},[_vm._v(\"下一章\")]):_c('el-button',{staticClass:\"next\",attrs:{\"type\":\"info\",\"round\":\"\"}},[_vm._v(\"下一章\")])],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-18745e70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/views/read.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-18745e70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./read.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./read.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./read.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-18745e70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./read.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-18745e70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/read.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}